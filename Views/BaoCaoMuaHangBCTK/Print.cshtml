@using KimThanh.ModelsView;
@using KimThanh.Controllers;
@model  BaoCaoMuaHangBCTKController.PrintBaoCaoMuaHang
@{
    var cul = new System.Globalization.CultureInfo("vi-VN");
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>BÁO CÁO BÁN HÀNG</title>
    <meta http-equiv="Cache-control" content="no-cache" />
    <meta http-equiv="Expires" content="-1" />
    <meta name="robots" content="noodp,noydir" />
    <meta name="format-detection" content="telephone=no" />
    <meta property="og:site_name" content="" />
    <meta name="description" content=" " />
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <meta property="og:title" content="" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="" />
    <meta property="og:description" content="" />
    <meta name="format-detection" content="telephone=no" />

    <link rel="stylesheet" type="text/css" href="/App_Themes/export/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/App_Themes/export/css/fonts/Averta/font.css" />
    <link rel="stylesheet" type="text/css" href="/App_Themes/export/scss/style.css" />
    <link rel="stylesheet" type="text/css" href="/App_Themes/export/css/fontawesome/css/all.css" />
    <style>
        #ul-don-hang ul {
            list-style-type: none;
            font-size: medium;
            margin-right: 100px;
            padding: 0;
            display: inline-block;
            *display: inline;
            zoom: 1
        }
/*        @@media print {
            .printEl {
                width: 15in;
            }
        }*/
        @@media print {
            thead, tfoot {
                display: table-row-group;
            }
        }
        .table-pnk {
            font-size: 180.50% !important;
        }
        body {
            font-family: "Times New Roman";
        }
    </style>
</head>
<body>
    <main class="wrapper">
        <div class="printEl">
            <div class="note__header">
                <div class="note__header--time">
                    <div class="detail">
                        <p class="text-time">
                            <span style="font-size: 130.50%" class="date">Từ ngày @ViewBag.FilterFD</span>
                        </p>
                        <p>
                            <span style="font-size: 130.50%" class="clock">Đến ngày @ViewBag.FilterTD</span>
                        </p>
                    </div>
                </div>
                <div class="note__header--title" style=" margin-right: 35%; ">
                    <h2 style="font-size:250.25%;" class="title">BÁO CÁO MUA HÀNG</h2>
                </div>
            </div>
            <div class="note__body">
                <div class="note__body--table">
                    <div class="wrap-height-table table-responsive">
                        <table class="table-pnk display"
                               id="table-in-bao-cao-banhang"
                               style="width: 100%">
                            <thead>
                                <tr>
                                    <th>STT</th>
                                    <th>Mã hàng</th>
                                    <th>Tên hàng</th>
                                    <th>PBH</th>
                                    <th>SL</th>
                                    <th>Đơn giá</th>
                                    <th>Thành tiền</th>
                                    <th>Nhân viên</th>
                                    <th>Kho</th>
                                    <th>Ghi chú</th>
                                </tr>
                            </thead>
                            <tbody>

                                @{
                                    if (Model.BCMHT != null)
                                    {
                                        <tr>
                                            <td colspan="11" style="text-align: left;">Phiếu Hàng Mua Trả Lại</td>
                                        </tr>
                                        int STT = 0;
                                        foreach (var item in Model.BCMHT)
                                        {
                                            var sl = (int)item.SOLUONG;
                                            var dongia = (int)item.DONGIA;
                                            var thanhtien = (double)item.THANHTIEN;
                                            <tr>
                                                <td>@(++STT)</td>
                                                <td style="text-align: left;">@item.MHCODE</td>
                                                <td style="text-align: left; white-space:normal;">@item.MHTEN</td>
                                                <td>@item.MHDCODE</td>
                                                <td style="text-align: right;">@String.Format(cul, "{0:N0}", sl)</td>
                                                <td style="text-align: right;">@String.Format(cul, "{0:N0}", dongia)</td>
                                                <td style="text-align: right;">@String.Format(cul, "{0:N0}", thanhtien)</td>
                                                <td style="white-space: normal;">@item.NVTEN</td>
                                                <td>@item.KHOCODE</td>
                                                <td style="text-align: left; white-space:normal;">@item.GHICHU</td>
                                            </tr>
                                        }
                                    }
                                }

                                @{
                                    if (Model.BCMHD != null)
                                    {
                                        <tr>
                                            <td colspan="11" style="text-align: left;">Phiếu Mua Hàng</td>
                                        </tr>
                                        int STT = 0;
                                        foreach (var item in Model.BCMHD)
                                        {
                                            var sl = (int)item.SOLUONG;
                                            var dongia = (int)item.DONGIA;
                                            var thanhtien = (double)item.THANHTIEN;
                                            <tr>
                                                <td>@(++STT)</td>
                                                <td style="text-align: left;">@item.MHCODE</td>
                                                <td style="text-align: left; white-space:normal;">@item.MHTEN</td>
                                                <td>@item.MHDCODE</td>
                                                <td style="text-align: right;">@String.Format(cul, "{0:N0}", sl)</td>
                                                <td style="text-align: right;">@String.Format(cul, "{0:N0}", dongia)</td>
                                                <td style="text-align: right;">@String.Format(cul, "{0:N0}", thanhtien)</td>
                                                <td style="white-space:normal;">@item.NVTEN</td>
                                                <td>@item.KHOCODE</td>
                                                <td style="white-space:normal;">@item.GHICHU</td>
                                            </tr>
                                        }
                                    }
                                }
                            </tbody>
                            <tfoot>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
            <div class="note__footer">
                <div id="ul-don-hang" class="mb-3 mt-3">
                    <ul>
                        <li style="font-size: 125.50%">Tổng Số Lượng Mua: @ViewBag.SoLuongMua</li>
                        <li style="font-size: 125.50%">Tổng Số Lượng Trả Lại: @ViewBag.SoLuongMuaTra</li>
                        <li>---------------------------------------------</li>
                        <li style="font-size: 125.50%">SL Mua-Trả lại: @ViewBag.TongSL</li>
                    </ul>
                    <ul>
                        <li style="font-size: 125.50%">Tổng Tiền Mua: @ViewBag.TongTienMua</li>
                        <li style="font-size: 125.50%">Tổng Tiền Trả Lại: @ViewBag.TongTienMuaTra</li>
                        <li>---------------------------------------------</li>
                        <li style="font-size: 125.50%">Tiền Mua-Trả lại: @ViewBag.TongTien</li>
                    </ul>
                </div>
                <div class="note__footer--row">
                    <div class="box">
                        <p style="font-size: 125.50%" class="sign-name">Trưởng ca</p>
                        <span style="font-size: 125.50%"><i>(Ký và ghi rõ họ tên)</i></span>
                    </div>
                    <div class="box">
                        <p style="font-size: 125.50%" class="sign-name">Kế toán</p>
                        <span style="font-size: 125.50%"><i>(Ký và ghi rõ họ tên)</i></span>
                    </div>
                    <div class="box">
                        <p style="font-size: 125.50%" class="sign-name">Phụ trách</p>
                        <span style="font-size: 125.50%"><i>(Ký và ghi rõ họ tên)</i></span>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script type="text/javascript" src="/App_Themes/js/moment.js"></script>
    <script src="~/App_Themes/js/jquery.js"></script>
    @*<script type="text/javascript" src="js/jquery-3.2.1.slim.min.js"></script>
        <script type="text/javascript" src="js/popper.min.js"></script>
        <script type="text/javascript" src="../js/bootstrap.min.js"></script>*@
    <script>

        $(document).ready(function () {
            window.print();
        })
    </script>
</body>
</html>

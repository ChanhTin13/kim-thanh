@using KimThanh.Controllers
@using System.Data
@using System.Text
@using MB.Extensions
@{
    var cul = new System.Globalization.CultureInfo("vi-VN");
}
@model SoKhoBCTKController.PrintKhoBCTKNhanh
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>In Kho BCTK Nhanh</title>
    <meta http-equiv="Cache-control" content="no-cache" />
    <meta http-equiv="Expires" content="-1" />
    <meta name="robots" content="noodp,noydir" />
    <meta name="format-detection" content="telephone=no" />
    <meta property="og:site_name" content="" />
    <meta name="description" content=" " />
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <meta property="og:title" content="" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="" />
    <meta property="og:description" content="" />
    <meta name="format-detection" content="telephone=no" />

    <link rel="stylesheet" type="text/css" href="/App_Themes/export/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/App_Themes/export/css/fonts/Averta/font.css" />
    <link rel="stylesheet" type="text/css" href="/App_Themes/export/scss/style.css" />
    <link rel="stylesheet" type="text/css" href="/App_Themes/export/css/fontawesome/css/all.css" />
    <style>
        body {
            font-family: "Times New Roman";
        }
    </style>
</head>
<body>
    <main class="wrapper">
        <div>
            <div class="note__header">
                <div class="note__header--title">
                    <h2 class="title">In Kho BCTK Nhanh </h2>
                </div>
            </div>
            <div class="note__body">
                <div class="note__body--table">
                    <div class="wrap-height-table table-responsive">
                        <table class="table-pnk display"
                               id="table-phieu-xuat-kho"
                               style="width: 100%">
                            @if (Model != null)
                            {
                                    <thead>
                                        <tr>
                                            <th>STT</th>
                                            <th>Mã hàng</th>
                                            <th>Tên hàng</th>
                                            <th>Nhóm hàng</th>
                                            <th>Giá bán lẻ</th>
                                            <th>Giá bán buôn</th>
                                            @foreach (var kho in Model.ListKho.ToList())
                                            {
                                                <th>@kho.KHOTEN</th>
                                            }
                                            <th>Tổng SL</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @{

                                            int STT = 0;
                                            foreach (var item in Model.Detail.data.ToList())
                                            {
                                                <tr>
                                                    <td>@(++STT)</td>
                                                    <td>@item["MHCODE"]</td>
                                                    <td>@item["MHTEN"]</td>
                                                    <td>@item["PATH"]</td>
                                                    <td>@item["GIABANLE"]</td>
                                                    <td>@item["GIABANBUON"]</td>
                                                    @foreach (var keyKho in Model.ListKho.ToList())
                                                    {
                                                        <td>@item[keyKho.KHOID.ToUpper()]</td>
                                                    }
                                                    <td>@item["SLAll"]</td>
                                                </tr>
                                            }
                                        }
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            @{ var first = Model.Detail.data[0];
                                                <th style="text-align:center;" colspan="3">@Model.Detail.TotalRow</th>
                                                <th colspan="3"></th>
                                                foreach (var item in Model.ListKho)
                                                {
                                                    <th>@String.Format(cul, "{0:N0}",first["TongSL"+item.KHOID] )</th>
                                                }

                                                <th>@String.Format(cul, "{0:N0}", first["TongSLAll"])</th>
                                            }
                                        </tr>
                                    </tfoot>
                            }
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script type="text/javascript" src="/App_Themes/js/moment.js"></script>
    <script src="~/App_Themes/js/jquery.js"></script>
    <script>
        $(document).ready(async function () {
            window.print();
        })
    </script>
</body>
</html>
